@model TaxBarAssociation.Models.Settings
@{
    ViewData["Title"] = "Website Settings";
    Layout = "~/Views/Shared/_Dashboard.cshtml";
}
<style>

.card-title {
    font-size: 14px !important;
}

.card-header {
    border-radius: 0 !important;
    padding: 0.6rem 0.5rem !important;
}

.card-danger:not(.card-outline)>.card-header {
    background-color: #4b545c !important;
}

.card-body {
    padding: 0.5rem !important;
}

label {
    margin-bottom: 0 !important;
}

#the-count {
    float: right;
    padding: 0.1rem 0 0 0;
    font-size: 0.875rem;
}

#cke_20,
#cke_21,
#cke_22,
#cke_23,
#cke_24,
#cke_25,
#cke_26,
#cke_34,
#cke_39,
#cke_76,
.n1ed_top_right_block,
.jsplus_ui_be_quick_panel {
    display: none !important;
}

.FileManager__noticeDemoServer {
    display: none !important;
}

#CategoryList {
    list-style: none;
    margin: 0;
    padding: 0 0 0 5px;
}

    #CategoryList > li {
        display: block;
    }

input[type=checkbox] {
    cursor: pointer;
    margin: 0 0.5rem 0 0;
    position: relative;
    top: 0;
}

    input[type=checkbox]:checked:before {
        transform: rotate(-45deg) scale(1);
    }

    input[type=checkbox]:before {
        border-color: #58b3f0;
        border-style: none none solid solid;
        border-width: 2px;
        content: "";
        height: 5px;
        left: 1px;
        margin: auto;
        position: absolute;
        right: 0;
        top: 0.2em;
        transform: rotate(-45deg) scale(0);
        transition: transform .4s cubic-bezier(.45, 1.8, .5, .75);
        width: 10px;
        z-index: 1;
    }

    input[type=checkbox]:checked:after {
        border-color: #58b3f0;
    }

    input[type=checkbox]:after {
        background: #fff;
        border: 1px solid #c4cdd5;
        border-radius: 3px;
        bottom: 0;
        content: "";
        cursor: pointer;
        height: 16px;
        left: -1px;
        margin: auto;
        position: absolute;
        right: 0;
        top: 0;
        width: 16px;
    }

#CategoryList > li > label {
    display: inline-block;
    font-weight: 400 !important;
}

.preview-image-wrapper {
    background: #fafbfc;
    border: 1px solid rgba(195, 207, 216, .3);
    display: inline-block;
    height: 150px;
    max-height: 150px;
    max-width: 150px;
    min-height: 150px;
    min-width: 150px;
    overflow: hidden;
    position: relative;
    text-align: center;
    vertical-align: middle;
    width: 150px;
}

    .preview-image-wrapper img {
        height: 150px;
        max-width: 100%;
    }

.btn_remove_image,
.btn_remove {
    background: #ddd;
    border-radius: 50% !important;
    color: #000;
    display: inline-block;
    font-size: 18px;
    height: 30px;
    line-height: 30px;
    position: absolute;
    right: 5px;
    text-align: center;
    top: 5px;
    width: 30px;
}

.image-box-actions a {
    color: #337ab7 !important;
    text-shadow: none !important;
}

.onoffswitch {
    position: relative;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    width: 45px;
}

.onoffswitch-label {
    border: 2px solid #e6e6e6;
    border-radius: 20px !important;
    -webkit-border-radius: 20px !important;
    -moz-border-radius: 20px !important;
    cursor: pointer;
    display: block;
    overflow: hidden;
}

.onoffswitch-switch {
    background: #a1a1a1;
    border: 2px solid #e6e6e6;
    border-radius: 50% !important;
    bottom: 0;
    height: 20px;
    margin: 0;
    position: absolute;
    right: 26px;
    top: 0;
    transition: all .3s ease-in 0s;
    width: 20px;
}

.onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-switch {
    background-color: #d64635;
    right: 0;
}

.onoffswitch-label .onoffswitch-inner {
    margin-left: 0;
}

.onoffswitch-inner {
    margin-left: -100%;
    transition: margin .3s ease-in 0s;
    width: 200%;
}

    .onoffswitch-inner:before {
        background-color: #eee;
        color: #e6e6e6;
        content: "";
        padding-left: 10px;
    }

    .onoffswitch-inner:after,
    .onoffswitch-inner:before {
        box-sizing: border-box;
        color: #fff;
        float: left;
        font-size: 15px;
        font-weight: 700;
        height: 15px;
        line-height: 15px;
        padding: 0;
        width: 50%;
    }

    .onoffswitch-inner:after {
        background-color: #eee;
        color: #a38282;
        content: "";
        padding-right: 10px;
        text-align: right;
    }

    .onoffswitch-inner:after,
    .onoffswitch-inner:before {
        box-sizing: border-box;
        color: #fff;
        float: left;
        font-size: 15px;
        font-weight: 700;
        height: 15px;
        line-height: 15px;
        padding: 0;
        width: 50%;
    }

input[type=checkbox] {
    cursor: pointer;
    margin: 0 0.5rem 0 0;
    position: relative;
    top: 0;
}

.onoffswitch-checkbox {
    display: none;
}

#image_preview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 160px));
    width: 100%;
    gap: 20px;
}

.image-box-actions {
    text-align: center;
    margin: 10px 0;
}

    .image-box-actions a {
        border: 1px solid #eee;
        padding: 5px 20px;
        text-transform: uppercase;
        font-size: 14px;
    }

        .image-box-actions a:hover {
            box-shadow: 1px 1px 180px #dc3545 inset;
            color: #fff !important;
        }

</style>
<!-- Content Header (Page header) -->
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>New Blog</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
                    <li class="breadcrumb-item active">New Blog</li>
                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>

<!-- Main content -->
<section class="content">
    <div class="container-fluid">
        <form action="Settings" method="post" enctype="multipart/form-data">
            <input type="hidden" id="ButtonType" name="ButtonType" value="" />
            <input type="hidden" asp-for="AppID" />
            <div class="row">
                <!-- left column -->
                <div class="col-md-6">
                    <!-- general form elements -->
                    <div class="card card-danger">
                        <div class="card-header">
                            <h3 class="card-title">Website Settings</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div class="form-group">
                                <label for="AppName">App Name <span class="text-danger">*</span></label>
                                <input type="text" asp-for="AppName" class="form-control" id="AppName" placeholder="Enter App Name">
                                <span asp-validation-for="AppName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label for="HeaderText">Contact Number <span class="text-danger">*</span></label>
                                <input type="text" asp-for="ContactNumber" class="form-control" id="ContactNumber" placeholder="Enter Contact Number">
                                <span asp-validation-for="ContactNumber" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label for="FooterText">Address <span class="text-danger">*</span></label>
                                <input type="text" asp-for="Location" class="form-control" id="Location" placeholder="Enter Location">
                                <span asp-validation-for="Location" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-5">
                                        <button type="submit" class="btn btn-primary" name="UpdateSettings" style="font-size: 14px;">
                                            <i class="fa fa-save"></i>&nbsp;&nbsp;Update Settings
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.card -->
                    <!-- general form elements -->
                    <div class="card card-danger">
                        <div class="card-header">
                            <h3 class="card-title">Logo</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div class="form-group">
                                <input type="file" asp-for="LogoImage" id="Image" onchange="readURL(this);" style="display:none" accept="image/png, image/jpeg, image/jpg" />
                                @{
                                    var image = "https://ultranews.thesky9.com/vendor/core/core/base/images/placeholder.png";
                                    if(Model != null)
                                    {
                                        if (Model.Logo != null)
                                        {
                                            image = $"../../website/images/logo/{Model.Logo}";
                                        }
                                    }
                                }
                                <div class="preview-image-wrapper">
                                    <img src="@image"
                                         alt="Preview image" id="preview_image" title="Remove image" width="150"
                                         data-default="@image" />
                                    <a class="btn_remove" title=""><i class="fa fa-times"></i></a>
                                </div>
                                <div class="image-box-actions">
                                    <a href="javascript:void(0);" class="btn_gallery" onclick="$('#Image').trigger('click');"
                                       data-result="image" data-action="select-image" data-allow-thumb="1">
                                        Choose image
                                    </a>
                                </div>
                                <span asp-validation-for="LogoImage" class="text-danger"></span>
                            </div>
                        </div>
                        <!-- /.card-body -->
                        <div class="card-footer">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-5">
                                        <button type="submit" class="btn btn-primary" name="UpdateLogo" style="font-size: 14px;">
                                            <i class="fa fa-save"></i>&nbsp;&nbsp;Update Logo
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.card -->
                </div>
                <!--/.col (left) -->
                <!-- right column -->
                <div class="col-md-6">
                    <!-- Form Element sizes -->
                    <div class="card card-danger">
                        <div class="card-header">
                            <h3 class="card-title">
                                Website Text
                            </h3>
                        </div>
                         <div class="card-body">
                            <div class="form-group">
                                <textarea class="form-control" asp-for="HeaderText" rows="2" maxlength="400" placeholder="Header Text"
                                          data-counter="400" cols="50"></textarea>
                                <span asp-validation-for="HeaderText" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <textarea class="form-control" asp-for="FooterText" rows="2" maxlength="400" placeholder="Footer Text"
                                          data-counter="400" cols="50"></textarea>
                                <span asp-validation-for="FooterText" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <textarea class="form-control" asp-for="AboutText" rows="4" maxlength="400" placeholder="About Text"
                                          data-counter="400" cols="50"></textarea>
                                <span asp-validation-for="AboutText" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <textarea class="form-control" asp-for="ContactText" rows="4" maxlength="400" placeholder="Contact Text"
                                          data-counter="400" cols="50"></textarea>
                                <span asp-validation-for="ContactText" class="text-danger"></span>
                            </div>
                        </div>
                        <!-- /.card-body -->
                        <div class="card-footer">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-5">
                                        <button type="submit" class="btn btn-primary" name="UpdateText" style="font-size: 14px;">
                                            <i class="fa fa-save"></i>&nbsp;&nbsp;Update Text
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.card-body -->
                    </div>
                    <!-- /.card -->

                    <div class="card card-danger">
                        <div class="card-header">
                            <h3 class="card-title">
                               Location
                            </h3>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label for="Map">Map <span class="text-danger">*</span></label>
                                <input type="text" asp-for="Map" class="form-control" id="Map" placeholder="Enter Map">
                                <span asp-validation-for="Map" class="text-danger"></span>
                            </div>
                        </div>
                        <!-- /.card-body -->
                        <div class="card-footer">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-5">
                                        <button type="submit" class="btn btn-primary" name="UpdateMap" style="font-size: 14px;">
                                            <i class="fa fa-save"></i>&nbsp;&nbsp;Update Map
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.card -->
                    <!-- general form elements disabled -->
                    <div class="card card-danger">
                        <div class="card-header">
                            <h3 class="card-title">
                                Working Time
                            </h3>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label for="Day">Day <span class="text-danger">*</span></label>
                                <input type="text" asp-for="Day" class="form-control" id="Day" placeholder="Enter Day">
                                <span asp-validation-for="Day" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label for="StartTime">Start Time <span class="text-danger">*</span></label>
                                <input type="time" asp-for="StartTime" class="form-control" id="StartTime" placeholder="Enter Start Time">
                                <span asp-validation-for="StartTime" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label for="EndTime">End Time <span class="text-danger">*</span></label>
                                <input type="time" asp-for="EndTime" class="form-control" id="EndTime" placeholder="Enter End Time">
                                <span asp-validation-for="EndTime" class="text-danger"></span>
                            </div>
                        </div>
                        <!-- /.card-body -->
                        <div class="card-footer">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-5">
                                        <button type="submit" class="btn btn-primary" name="UpdateTiming" style="font-size: 14px;">
                                            <i class="fa fa-save"></i>&nbsp;&nbsp;Update Timing
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.card -->
                </div>
                <!--/.col (right) -->
            </div>
            <!-- /.row -->
        </form>
    </div><!-- /.container-fluid -->
</section>
<!-- /.content -->
<!-- /.content -->
@section Scripts {
    <script>

        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#preview_image')
                        .attr('src', e.target.result)
                        .width(150)
                        .height(200);
                };

                reader.readAsDataURL(input.files[0]);
            }
        }

        function RemoveImage(x) {
            let filesAmount = document.getElementsByClassName("preview-image-wrapper");
            filesAmount[x].remove();
        }

        $(".btn_remove").click(function () {
            $('#preview_image')
                .attr('src', 'https://ultranews.thesky9.com/vendor/core/core/base/images/placeholder.png')
                .css({
                    height: '150px',
                    maxWidth: '100%'
                });
            $("#Image").val('');
        });

        $("[name='UpdateSettings']").click(function(){
            $("#ButtonType").val('UpdateSettings');
        });

        $("[name='UpdateLogo']").click(function(){
            $("#ButtonType").val('UpdateLogo');
        });

        $("[name='UpdateText']").click(function(){
            $("#ButtonType").val('UpdateText');
        });

        $("[name='UpdateMap']").click(function(){
            $("#ButtonType").val('UpdateMap');
        });

        $("[name='UpdateTiming']").click(function () {
            $("#ButtonType").val('UpdateTiming');
        });
    </script>
}
